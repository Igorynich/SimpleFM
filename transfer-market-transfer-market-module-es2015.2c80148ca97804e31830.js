(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{VAUn:function(c,e,t){"use strict";t.r(e),t.d(e,"TransferMarketModule",function(){return j});var i=t("ofXK"),r=t("mrSG"),a=t("woNW"),o=t("npY+"),n=t("drq7"),s=t("JgKa"),l=t("IzEk"),d=t("lJxs"),b=t("fXoL"),u=t("kt0X"),p=t("5Q5W"),f=t("0IaG"),y=t("r4Kj"),m=t("MutI"),h=t("bTqV"),v=t("Qu3c");function g(c,e){if(1&c){const c=b.ec();b.dc(0,"mat-list-item",8),b.dc(1,"div"),b.dc(2,"div",1),b.dc(3,"div",9),b.dc(4,"div",5),b.Uc(5),b.cc(),b.dc(6,"div",10),b.Uc(7),b.cc(),b.dc(8,"div",5),b.Uc(9),b.cc(),b.dc(10,"div",5),b.hc(11,11),b.xc(12,"currency"),b.cc(),b.Yb(13,"div",12),b.dc(14,"div",13),b.dc(15,"button",14),b.sc("click",function(){b.Mc(c);const t=e.$implicit;return b.wc().sellPlayerClick(t)}),b.hc(16,15),b.cc(),b.cc(),b.cc(),b.cc(),b.cc(),b.cc()}if(2&c){const c=e.$implicit,t=b.wc();b.Lb(1),b.Ob("row w-100 pos-",c.position.toLowerCase(),""),b.Lb(4),b.Wc(" ",c.position," "),b.Lb(2),b.Wc(" ",c[t.config.name]," "),b.Lb(2),b.Wc(" ",c.power," "),b.Lb(3),b.lc(b.yc(12,10,c.price)),b.ic(11),b.Lb(2),b.Cc("matTooltip",t.getSellButtonTooltip(c))("matTooltipDisabled",!t.getSellButtonTooltip(c)),b.Lb(1),b.Cc("disabled",t.playerNotEligibleByPosition(c)||t.playerNotEligibleByWeeklyLimit(c))}}let w=(()=>{class c{constructor(c,e,t,i,r,a){this.store=c,this.transferService=e,this.dialog=t,this.currencyPipe=i,this.dialogRef=r,this.config=a}ngOnInit(){this.curPlayers$=this.store.select(a.B).pipe(Object(d.a)(c=>this.transferService.generateListWithPrices(c)))}sellPlayerClick(c){this.dialog.open(n.a,{data:{header:$localize`Продать ${c[this.config.name]}(${c.position}-${c.power}) за ${this.currencyPipe.transform(c.price)}M?`}}).afterClosed().pipe(Object(l.a)(1)).subscribe(e=>{e&&this.dialogRef.close(c)})}playerNotEligibleByPosition(c){return!this.transferService.isClubHaveEnoughPlayersOfThatPosition(c)}playerNotEligibleByWeeklyLimit(c){return this.transferService.playerWasAlreadySoldThisWeek()}getSellButtonTooltip(c){return this.playerNotEligibleByWeeklyLimit(c)?$localize`Больше нельзя продавать игроков на этой неделе`:this.playerNotEligibleByPosition(c)?$localize`Мало игроков этой позиции`:""}}return c.\u0275fac=function(e){return new(e||c)(b.Xb(u.b),b.Xb(p.a),b.Xb(f.b),b.Xb(i.d),b.Xb(f.g),b.Xb(y.a))},c.\u0275cmp=b.Rb({type:c,selectors:[["app-sell-player-dialog"]],decls:9,vars:4,consts:function(){let c,e,t;return c=$localize`:␟ea4823e92c81e6c593190b6a7beda216d54e2d7b␟5813922920209429185:Закрыть`,e=$localize`:price | M = millions␟316a248450e0a17ac1849ce942e3501f8a469fbf␟5507442769303203610: ${"\ufffd0\ufffd"}:INTERPOLATION:M `,t=$localize`:␟68f64a1c92bac69824a23abb5fdcf0213631edbd␟8879129337041861791: Продать `,[[1,"row"],[1,"col"],["role","list"],["role","listitem","class","list-item",4,"ngFor","ngForOf"],[1,"row","justify-content-center"],[1,"col-1"],["mat-raised-button","","color","primary",3,"mat-dialog-close"],c,["role","listitem",1,"list-item"],[1,"row","w-100"],[1,"col-5"],e,[1,"col-3"],[1,"col-1",3,"matTooltip","matTooltipDisabled"],["mat-raised-button","",3,"disabled","click"],t]},template:function(c,e){1&c&&(b.dc(0,"div",0),b.dc(1,"div",1),b.dc(2,"mat-list",2),b.Sc(3,g,17,12,"mat-list-item",3),b.xc(4,"async"),b.cc(),b.cc(),b.cc(),b.dc(5,"div",4),b.dc(6,"div",5),b.dc(7,"button",6),b.hc(8,7),b.cc(),b.cc(),b.cc()),2&c&&(b.Lb(3),b.Cc("ngForOf",b.yc(4,2,e.curPlayers$)),b.Lb(4),b.Cc("mat-dialog-close",null))},directives:[m.a,i.n,h.b,f.d,m.b,v.a],pipes:[i.b,i.d],styles:[".list-item[_ngcontent-%COMP%] {\n  font-size: smaller;\n}\n\n\n\nbutton[_ngcontent-%COMP%]:focus {\n  outline: none !important;\n}"],changeDetection:0}),c})();var $=t("ThKZ"),C=t("wZkO");function P(c,e){if(1&c){const c=b.ec();b.dc(0,"div",2),b.dc(1,"button",10),b.sc("click",function(){return b.Mc(c),b.wc().removePlayer()}),b.hc(2,11),b.cc(),b.cc()}}let L=(()=>{class c{constructor(c,e){this.store=c,this.config=e,this.remove=new b.r,this.buy=new b.r}ngOnInit(){this.curClub$=this.store.select(a.z)}removePlayer(){this.remove.emit()}buyPlayer(){this.buy.emit()}}return c.\u0275fac=function(e){return new(e||c)(b.Xb(u.b),b.Xb(y.a))},c.\u0275cmp=b.Rb({type:c,selectors:[["app-transfer-market-player-item"]],inputs:{player:"player"},outputs:{remove:"remove",buy:"buy"},decls:23,vars:19,consts:function(){let c,e,t,i;return c=$localize`:player price | M = millions␟a5b850aa9ad7205ab7d62d7180431d7fb238778a␟5355521629218457061: ${"\ufffd0\ufffd"}:INTERPOLATION:M `,e=$localize`:␟d95e7faf10a7b1fa7dd1bba8481e078c93077ce1␟7353894881976394869:Не достаточно денег`,t=$localize`:␟4effd0dcf693458b3ba6082a6a7ec7720eb177d5␟5848959595198865368: Купить `,i=$localize`:␟be367842716da7e5627a77315c7d00fb07faed11␟3140288137867563830:Снять`,[[1,"col"],[1,"row","w-100"],[1,"col-1"],[1,"col-3"],c,[1,"row","justify-content-end","w-100"],["class","col-1",4,"ngIf"],["matTooltip",e,1,"col-1",3,"matTooltipDisabled"],["mat-raised-button","",3,"disabled","click"],t,["mat-raised-button","",3,"click"],i]},template:function(c,e){1&c&&(b.dc(0,"div"),b.dc(1,"div",0),b.dc(2,"div",1),b.dc(3,"div",2),b.Uc(4),b.cc(),b.dc(5,"div",3),b.Uc(6),b.cc(),b.dc(7,"div",3),b.Uc(8),b.cc(),b.dc(9,"div",2),b.Uc(10),b.cc(),b.Yb(11,"div",3),b.dc(12,"div",2),b.hc(13,4),b.xc(14,"currency"),b.cc(),b.cc(),b.dc(15,"div",5),b.Sc(16,P,3,0,"div",6),b.xc(17,"async"),b.dc(18,"div",7),b.xc(19,"async"),b.dc(20,"button",8),b.sc("click",function(){return e.buyPlayer()}),b.hc(21,9),b.xc(22,"async"),b.cc(),b.cc(),b.cc(),b.cc(),b.cc()),2&c&&(b.Ob("row w-100 pos-",e.player.position.toLowerCase(),""),b.Lb(4),b.Wc(" ",e.player.position," "),b.Lb(2),b.Wc(" ",e.player[e.config.name]," "),b.Lb(2),b.Wc(" ",e.player[e.config.clubName]," "),b.Lb(2),b.Wc(" ",e.player.power," "),b.Lb(4),b.lc(b.yc(14,11,e.player.price)),b.ic(13),b.Lb(2),b.Cc("ngIf",e.player.clubNameEn===b.yc(17,13,e.curClub$).nameEn),b.Lb(2),b.Cc("matTooltipDisabled",e.player.price<=b.yc(19,15,e.curClub$).budget),b.Lb(2),b.Cc("disabled",e.player.price>b.yc(22,17,e.curClub$).budget))},directives:[i.o,v.a,h.b],pipes:[i.d,i.b],styles:[""],changeDetection:0}),c})();function O(c,e){if(1&c){const c=b.ec();b.dc(0,"mat-list-item",10),b.dc(1,"app-transfer-market-player-item",11),b.sc("buy",function(){b.Mc(c);const t=e.$implicit;return b.wc().buyPlayerClick(t)})("remove",function(){b.Mc(c);const t=e.$implicit;return b.wc().removePlayerFromList(t)}),b.cc(),b.cc()}if(2&c){const c=e.$implicit;b.Lb(1),b.Cc("player",c)}}let k=(()=>{class c{constructor(){this.buy=new b.r,this.remove=new b.r}ngOnInit(){}buyPlayerClick(c){this.buy.emit(c)}removePlayerFromList(c){this.remove.emit(c)}}return c.\u0275fac=function(e){return new(e||c)},c.\u0275cmp=b.Rb({type:c,selectors:[["app-transfer-list"]],inputs:{listedPlayers:"listedPlayers"},outputs:{buy:"buy",remove:"remove"},decls:15,vars:1,consts:function(){let c,e,t,i,r;return c=$localize`:␟edbbf0b6a3fa34d2595c27fae95d0cbe3783e5db␟2243239354342412405: Позиция `,e=$localize`:␟6f9960abddac12c6758be054b581d999d9222bc1␟7637597251646502096: Имя `,t=$localize`:␟e531e74d970a4dad1543f61c3a371fa1acfac922␟543708262920290852: Клуб `,i=$localize`:␟2f54e9d45259f657c78dd357659d9ce01b268a13␟3697338613590431635: Сила `,r=$localize`:␟b5d8b1dbc69b3fe7b3eefd026d6e0eace3296a1b␟1449067189455029064: Цена `,[["role","list"],[1,"row","w-100"],[1,"col-1"],c,[1,"col-3"],e,t,i,r,["class","mb-3",4,"ngFor","ngForOf"],[1,"mb-3"],[1,"w-100",3,"player","buy","remove"]]},template:function(c,e){1&c&&(b.dc(0,"mat-list",0),b.dc(1,"mat-list-item"),b.dc(2,"div",1),b.dc(3,"div",2),b.hc(4,3),b.cc(),b.dc(5,"div",4),b.hc(6,5),b.cc(),b.dc(7,"div",4),b.hc(8,6),b.cc(),b.dc(9,"div",2),b.hc(10,7),b.cc(),b.Yb(11,"div",4),b.dc(12,"div",2),b.hc(13,8),b.cc(),b.cc(),b.cc(),b.Sc(14,O,2,1,"mat-list-item",9),b.cc()),2&c&&(b.Lb(14),b.Cc("ngForOf",e.listedPlayers))},directives:[m.a,m.b,i.n,L],styles:[""],changeDetection:0}),c})();var z=t("vxfF"),T=t("NFeN");const N=function(c){return{"my-club":c}};function S(c,e){if(1&c&&(b.dc(0,"div"),b.dc(1,"div",2),b.hc(2,3),b.cc(),b.dc(3,"div",2),b.hc(4,4),b.cc(),b.Yb(5,"div",2),b.dc(6,"div",5),b.Uc(7),b.cc(),b.dc(8,"div",6),b.xc(9,"async"),b.Uc(10),b.cc(),b.dc(11,"div",7),b.dc(12,"mat-icon"),b.Uc(13,"arrow_right_alt"),b.cc(),b.cc(),b.dc(14,"div",8),b.xc(15,"async"),b.Uc(16),b.cc(),b.cc()),2&c){const c=e.$implicit,t=b.wc();b.Ob("row w-100 viewport-item pos-",c.player.position.toLowerCase(),""),b.Lb(2),b.lc(c.season+1),b.ic(2),b.Lb(2),b.lc(c.week+1),b.ic(4),b.Lb(3),b.Wc(" ",c.player[t.config.name]," "),b.Lb(1),b.Cc("ngClass",b.Fc(14,N,c.from.nameEn===b.yc(9,10,t.curClub$).nameEn)),b.Lb(2),b.Wc(" ",c.from[t.config.name]," "),b.Lb(4),b.Cc("ngClass",b.Fc(16,N,c.to.nameEn===b.yc(15,12,t.curClub$).nameEn)),b.Lb(2),b.Wc(" ",c.to[t.config.name]," ")}}let M=(()=>{class c{constructor(c,e){this.store=c,this.config=e}ngOnInit(){this.curClub$=this.store.select(a.z)}}return c.\u0275fac=function(e){return new(e||c)(b.Xb(u.b),b.Xb(y.a))},c.\u0275cmp=b.Rb({type:c,selectors:[["app-transfer-history"]],inputs:{transferHistory:"transferHistory"},decls:2,vars:1,consts:function(){let c,e;return c=$localize`:␟dd602d13f46d13b6652d10d7b3097b1cb96818be␟7323416021969315873: Сез. ${"\ufffd0\ufffd"}:INTERPOLATION: `,e=$localize`:␟7931f0c037f1ec8a0ad5900b200b8c0994612944␟8247894894765888348: Нед. ${"\ufffd0\ufffd"}:INTERPOLATION: `,[["itemSize","50",1,"w-100","my-3","viewport"],[3,"class",4,"cdkVirtualFor","cdkVirtualForOf"],[1,"col-1"],c,e,[1,"col-3"],[1,"col-2","text-right",3,"ngClass"],[1,"col-1","text-center"],[1,"col-2",3,"ngClass"]]},template:function(c,e){1&c&&(b.dc(0,"cdk-virtual-scroll-viewport",0),b.Sc(1,S,17,18,"div",1),b.cc()),2&c&&(b.Lb(1),b.Cc("cdkVirtualForOf",e.transferHistory))},directives:[z.d,z.a,z.c,i.m,T.a],pipes:[i.b],styles:[".viewport[_ngcontent-%COMP%] {\n  height: 55vh;\n}\n\n.viewport-item[_ngcontent-%COMP%] {\n  height: 50px;\n}"],changeDetection:0}),c})();function E(c,e){if(1&c){const c=b.ec();b.dc(0,"app-transfer-list",4),b.sc("buy",function(e){return b.Mc(c),b.wc().buyPlayerClick(e)})("remove",function(e){return b.Mc(c),b.wc().removePlayerFromList(e)}),b.xc(1,"async"),b.cc(),b.dc(2,"div",5),b.dc(3,"div",6),b.dc(4,"button",7),b.sc("click",function(){return b.Mc(c),b.wc().sellPlayerClick()}),b.hc(5,8),b.cc(),b.cc(),b.cc()}if(2&c){const c=b.wc();b.Cc("listedPlayers",b.yc(1,1,c.listedPlayers$))}}function X(c,e){if(1&c&&(b.Yb(0,"app-transfer-history",9),b.xc(1,"async")),2&c){const c=b.wc();b.Cc("transferHistory",b.yc(1,1,c.transferHistory$))}}let F=(()=>{let c=class{constructor(c,e,t,i,r,a){this.transferService=c,this.store=e,this.dialog=t,this.currencyPipe=i,this.snack=r,this.config=a}ngOnInit(){this.listedPlayers$=this.store.select(a.T),this.transferHistory$=this.store.select(a.S)}ngOnDestroy(){}buyPlayerClick(c){const e=this.dialog.open(n.a,{data:{header:$localize`Купить ${c[this.config.name]}(${c.position}-${c.power}) за ${this.currencyPipe.transform(c.price)}M?`}});Object(s.b)(this._dialogSub),this._dialogSub=e.afterClosed().pipe(Object(l.a)(1)).subscribe(e=>{e&&this.store.dispatch(Object(o.w)({player:c}))})}removePlayerFromList(c){}sellPlayerClick(){this.dialog.open(w).afterClosed().pipe(Object(l.a)(1)).subscribe(c=>{if(c){const e=this.transferService.findABuyerForAPlayer(c);this.store.dispatch(Object(o.v)({player:c,clubsNameEn:e.nameEn})),this.snack.createSnackBar($localize`${c[this.config.name]} был продан в ${e[this.config.name]} за ${c.price}M`)}})}};return c.\u0275fac=function(e){return new(e||c)(b.Xb(p.a),b.Xb(u.b),b.Xb(f.b),b.Xb(i.d),b.Xb($.a),b.Xb(y.a))},c.\u0275cmp=b.Rb({type:c,selectors:[["app-transfer-market-main-page"]],decls:5,vars:0,consts:function(){let c,e,t;return c=$localize`:tab label␟e74432a94976dc2141a7bf13669352e83ef2bb31␟6602033537080491772:Трансфер Маркет`,e=$localize`:tab label␟04c798faf64cd151f5329299756977e938d8d500␟312361153076754287:История трансферов`,t=$localize`:␟c0d76a904d0734f33b10167928a2be2a24324bf4␟5703663404694154079:Продать игрока`,[[1,"w-100"],["label",c],["matTabContent",""],["label",e],[3,"listedPlayers","buy","remove"],[1,"row","m-0"],[1,"col"],["mat-raised-button","",3,"click"],t,[3,"transferHistory"]]},template:function(c,e){1&c&&(b.dc(0,"mat-tab-group",0),b.dc(1,"mat-tab",1),b.Sc(2,E,6,3,"ng-template",2),b.cc(),b.dc(3,"mat-tab",3),b.Sc(4,X,2,3,"ng-template",2),b.cc(),b.cc())},directives:[C.c,C.a,C.b,k,h.b,M],pipes:[i.b],styles:[""]}),c=Object(r.c)([Object(s.a)()],c),c})();var I=t("tyNb"),W=t("PCNd");const x=[{path:"",component:F}];let j=(()=>{class c{}return c.\u0275fac=function(e){return new(e||c)},c.\u0275mod=b.Vb({type:c}),c.\u0275inj=b.Ub({providers:[i.d],imports:[[i.c,I.f.forChild(x),W.a,m.c,h.c,v.b,f.f,C.e,T.b,z.f]]}),c})()}}]);